<!DOCTYPE html>
<html>
<head>
  <title>Flashing Dot</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body onload="updater()">
  <div id="content">
    <span class="dot"></span>
  </div>

  <script>
    function updater() {
      setInterval(toggleFlash, 10);
      setInterval(changeDotSize, 10);
      setInterval(changeFlashSpeed, 10);
      setInterval(changeDotColor, 10);
      setInterval(changeBackgroundColor, 10);
      setInterval(moveDot, 10);
    }

    function toggleFlash() {
      var dot = document.querySelector('.dot');
      var flashing = localStorage.getItem('flashing');
      if (flashing == 0) {
        dot.classList.remove('flash');
      } else {
        dot.classList.add('flash');
      }
    }

    function changeDotSize() {
      var dot = document.querySelector('.dot');
      var sizeInput = localStorage.getItem('size');
      dot.style.width = sizeInput + 'px';
      dot.style.height = sizeInput + 'px';
    }

    function changeFlashSpeed() {
      var dot = document.querySelector('.dot');
      var speedInput = localStorage.getItem('speed');
      dot.style.animationDuration = speedInput + 'ms';
    }

    function changeDotColor() {
      var dot = document.querySelector('.dot');
      var color = localStorage.getItem('dotColor');
      dot.style.backgroundColor = color;
    }

    function changeBackgroundColor() {
      var body = document.querySelector('body');
      var color = localStorage.getItem('backColor');
      body.style.backgroundColor = color;
    }

    function moveDot() {
      var dot = document.querySelector('.dot');
      var x = localStorage.getItem('x');
      var y = localStorage.getItem('y');
      console.log(x);
      dot.style.left = x + 'px';
      dot.style.top = y + 'px';
    }
  </script>
</body>
</html>
